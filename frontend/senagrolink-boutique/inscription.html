<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- style css -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="inscription.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />  

    <title>Inscription/Connexion</title>
</head>
<body>
    <nav>
        <ul class="nav-bar">
            <li class="logo"><a href="#">
                <img src="pictures/SAL.png" alt="logo" style="width: 95px; height: 70px;">
            </a></li>
            <input type="checkbox" id="check">
            <span class="menu">
                <li><a href="index.html">Accueil</a></li>
                <li><a href="produits.html">Produits</a></li>
                <li><a href="galerie.html">Galerie</a></li>
                <li><a href="marche.html">Marche</a></li>
                <li><a href="inscription.html">Inscription/Connexion</a></li>
                <li><a href="contact.html">contact</a></li>
                <label for="check" class="close-menu"><i class='fas fa-times'></i></label>
            </span>
            <label for="check" class="open-menu"><i class="fas fa-bars"></i></label>
        </ul>
    </nav>
    <main class="main mt-5 py-5 text-white" id="main_inscription">
        <h2 class="main-title fw-bold text-center" style="color: #72ffaf;">Espace membre</h2>
        <div class="container text-center">
            <div class="row">
                <div class="col-md-12">
                    <p class="lead" style="color: #ffffff;">Bienvenue sur notre plateforme. Inscrivez-vous ou connectez-vous pour accéder à votre espace.</p>
                </div>
            </div>
        </div>
        
        <!-- Onglets Inscription/Connexion -->
        <div class="container mt-4">
            <ul class="nav nav-tabs justify-content-center" id="authTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="signup-tab" data-bs-toggle="tab" data-bs-target="#signup" type="button" role="tab" aria-controls="signup" aria-selected="true">Inscription</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="false">Connexion</button>
                </li>
            </ul>
            
            <div class="tab-content py-4" id="authTabsContent">
                <!-- Onglet Inscription -->
                <div class="tab-pane fade show active" id="signup" role="tabpanel" aria-labelledby="signup-tab">
                    <div class="row justify-content-center">
                        <div class="col-lg-8">
                            <div class="card shadow-lg border-0">
                                <div class="card-body p-4">
                                    <h3 class="card-title text-center mb-4">Choisissez votre profil</h3>
                                    
                                    <ul class="nav nav-pills mb-4 justify-content-center" id="profileTabs" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link active" id="farmer-tab" data-bs-toggle="pill" data-bs-target="#farmer-signup" type="button" role="tab" aria-controls="farmer" aria-selected="true">
                                                <i class="fa-solid fa-tractor me-2"></i>Agriculteur
                                            </button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link" id="buyer-tab" data-bs-toggle="pill" data-bs-target="#buyer-signup" type="button" role="tab" aria-controls="buyer" aria-selected="false">
                                                <i class="fa-solid fa-basket-shopping me-2"></i>Acheteur
                                            </button>
                                        </li>
                                    </ul>
                                    
                                    <div class="tab-content" id="profileTabsContent">
                                        <!-- Formulaire Agriculteur -->
                                        <div class="tab-pane fade show active" id="farmer-signup" role="tabpanel" aria-labelledby="farmer-tab">
                                            <form id="farmerForm">
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="farmerName" class="form-label">Nom complet*</label>
                                                        <input type="text" class="form-control" id="farmerName" name="farmerName" required>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label for="farmerEmail" class="form-label">Email*</label>
                                                        <input type="email" class="form-control" id="farmerEmail" name="farmerEmail" required>
                                                    </div>
                                                </div>
                                                
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="farmerPhone" class="form-label">Téléphone*</label>
                                                        <input type="tel" class="form-control" id="farmerPhone" name="farmerPhone" required>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label for="farmerPassword" class="form-label">Mot de passe*</label>
                                                        <input type="password" class="form-control" id="farmerPassword" name="farmerPassword" required>
                                                    </div>
                                                </div>
                                                
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="farmerLocation" class="form-label">Localisation*</label>
                                                        <select class="form-select" id="farmerLocation" name="farmerLocation" required>
                                                            <option value="">Sélectionnez votre région</option>
                                                            <option>Dakar</option>
                                                            <option>Diourbel</option>
                                                            <option>Fatick</option>
                                                            <option>Kaolack</option>
                                                            <option>Kaffrine</option>
                                                            <option>Kédougou</option>
                                                            <option>Kolda</option>
                                                            <option>Louga</option>
                                                            <option>Matam</option>
                                                            <option>Sédhiou</option>
                                                            <option>Saint-Louis</option>
                                                            <option>Tambacounda</option>
                                                            <option>Thiès</option>
                                                            <option>Ziguinchor</option>
                                                            <option>Autre</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label for="farmerProduct" class="form-label">Type de production*</label>
                                                        <select class="form-select" id="farmerProduct" name="farmerProduct" required>
                                                            <option value="">Sélectionnez</option>
                                                            <option>Fruits</option>
                                                            <option>Céréales</option>
                                                            <option>Légumes</option>
                                                            <option>Autre</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                
                                                <div class="form-check mb-4">
                                                    <input class="form-check-input" type="checkbox" id="farmerTerms" required>
                                                    <label class="form-check-label" for="farmerTerms">
                                                        J'accepte les <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">conditions d'utilisation</a>
                                                    </label>
                                                </div>
                                                
                                                <button type="submit" class="btn btn-success w-100 py-2">S'inscrire comme agriculteur</button>
                                            </form>
                                        </div>
                                        
                                        <!-- Formulaire Acheteur -->
                                        <div class="tab-pane fade" id="buyer-signup" role="tabpanel" aria-labelledby="buyer-tab">
                                            <form id="buyerForm">
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="buyerName" class="form-label">Nom complet*</label>
                                                        <input type="text" class="form-control" id="buyerName" name="buyerName" required>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label for="buyerEmail" class="form-label">Email*</label>
                                                        <input type="email" class="form-control" id="buyerEmail" name="buyerEmail" required>
                                                    </div>
                                                </div>
                                                
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="buyerPhone" class="form-label">Téléphone*</label>
                                                        <input type="tel" class="form-control" id="buyerPhone" name="buyerPhone" required>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label for="buyerPassword" class="form-label">Mot de passe*</label>
                                                        <input type="password" class="form-control" id="buyerPassword" name="buyerPassword" required>
                                                    </div>
                                                </div>
                                                
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="buyerLocation" class="form-label">Localisation*</label>
                                                        <select class="form-select" id="buyerLocation" name="buyerLocation" required>
                                                            <option value="">Sélectionnez votre région</option>
                                                            <option>Dakar</option>
                                                            <option>Diourbel</option>
                                                            <option>Fatick</option>
                                                            <option>Kaolack</option>
                                                            <option>Kaffrine</option>
                                                            <option>Kédougou</option>
                                                            <option>Kolda</option>
                                                            <option>Louga</option>
                                                            <option>Matam</option>
                                                            <option>Sédhiou</option>
                                                            <option>Saint-Louis</option>
                                                            <option>Tambacounda</option>
                                                            <option>Thiès</option>
                                                            <option>Ziguinchor</option>
                                                            <option>Autre</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label for="buyerType" class="form-label">Type d'acheteur*</label>
                                                        <select class="form-select" id="buyerType" name="buyerType" required>
                                                            <option value="">Sélectionnez</option>
                                                            <option value="particulier">Particulier</option>
                                                            <option value="entreprise">Entreprise</option>
                                                            <option value="revendeur">Revendeur</option>
                                                            <option value="restaurant">Restaurant</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                
                                                <div class="form-check mb-4">
                                                    <input class="form-check-input" type="checkbox" id="buyerTerms" required>
                                                    <label class="form-check-label" for="buyerTerms">
                                                        J'accepte les <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">conditions d'utilisation</a>
                                                    </label>
                                                </div>
                                                
                                                <button type="submit" class="btn btn-primary w-100 py-2">S'inscrire comme acheteur</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Onglet Connexion -->
                <div class="tab-pane fade" id="login" role="tabpanel" aria-labelledby="login-tab">
                    <div class="row justify-content-center">
                        <div class="col-lg-6">
                            <div class="card shadow-lg border-0">
                                <div class="card-body p-4">
                                    <h3 class="card-title text-center mb-4">Connexion</h3>
                                    <form id="loginForm">
                                        <div class="mb-3">
                                            <label for="loginEmail" class="form-label">Email*</label>
                                            <input type="email" class="form-control" id="loginEmail" required>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label for="loginPassword" class="form-label">Mot de passe*</label>
                                            <input type="password" class="form-control" id="loginPassword" required>
                                        </div>
                                        
                                        <div class="mb-3 form-check">
                                            <input type="checkbox" class="form-check-input" id="rememberMe">
                                            <label class="form-check-label" for="rememberMe">Se souvenir de moi</label>
                                        </div>
                                        
                                        <button type="submit" class="btn btn-warning w-100 py-2 mb-3">Se connecter</button>
                                        
                                        <div class="text-center">
                                            <a href="#" id="forgotPassword">Mot de passe oublié ?</a>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="successMsg" class="alert alert-success mt-4 d-none text-center fw-bold"></div>
            <div id="errorMsg" class="alert alert-danger mt-4 d-none text-center fw-bold"></div>
            <div id="receptionMsg" class="alert alert-info mt-3 d-none text-center fw-bold">
                Merci pour votre inscription ! Nous avons bien reçu vos informations et vous contacterons sous peu.
            </div>
        </div>
    </main>
  
    <!-- Modal Conditions d'utilisation -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel">Conditions d'utilisation</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>En vous inscrivant sur notre plateforme, vous acceptez les conditions suivantes :</p>
                    <ol>
                        <li>Vous garantissez que les informations fournies sont exactes et complètes.</li>
                        <li>Vous êtes responsable de la confidentialité de votre mot de passe.</li>
                        <li>Vous acceptez de recevoir des communications de notre part concernant votre compte.</li>
                        <li>Vous vous engagez à utiliser la plateforme conformément à la loi et aux bonnes pratiques.</li>
                    </ol>
                    <p>Nous nous réservons le droit de suspendre ou de supprimer tout compte ne respectant pas ces conditions.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Votre footer existant -->
    <footer class="mt-5 p-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-lg-3 p-2">
                    <div class="left px-2">
                        <p>
                            Merci de votre visite chez SenAgroLink. Votre allie pour une meilleure proximite aux produits locaux.
                        </p>
                        <div class="social-side d-flex gap-4 ">
                            <a href="http://www.facebook.com" target="_blank" rel="noopener noreferrer" class="" data-aos="fade-up" data-aos-delay="500" data-aos-duration="1000">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-facebook" viewBox="0 0 16 16">
                                    <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"/>
                                </svg>
                            </a>
                            <a href="http://www/.instagram.com" target="_blank" rel="noopener noreferrer" data-aos="fade-up" data-aos-delay="500" data-aos-duration="1500">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-instagram" viewBox="0 0 16 16">
                                    <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"/>
                                </svg>
                            </a>
                            <a href="http://www.tiktok.com" target="_blank" rel="noopener noreferrer" data-aos="fade-up" data-aos-delay="500" data-aos-duration="2000">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tiktok" viewBox="0 0 16 16">
                                    <path d="M9 0h1.98c.144.715.54 1.617 1.235 2.512C12.895 3.389 13.797 4 15 4v2c-1.753 0-3.07-.814-4-1.829V11a5 5 0 1 1-5-5v2a3 3 0 1 0 3 3z"/>
                                </svg>
                            </a>
                            <a href="https://wa.me/783712486?text=Vous%20etes%20chez%20Teranga%20gastro%20que%20puisse%20je%20faire%20pour%20vous" 
                             target="_blank" 
                             rel="noopener noreferrer" 
                             data-aos="fade-up" 
                             data-aos-delay="500" 
                             data-aos-duration="2500">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-whatsapp" viewBox="0 0 16 16">
                                    <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3 p-2">
                    <div class="horaire p-2">
                        <ul>
                            <h4>Ressources </h4>
                            <li class="text-white">
                                <strong class="me-2">Guides agricoles</strong >
                            </li>
                            <li class="text-white">
                                <strong class="me-2">Prix du marche</strong > 
                            </li>
                            <li class="text-white">
                                <strong class="me-2">FAQ</strong > 
                            </li>
                            <li class="text-white">
                                <strong class="me-2">Blog</strong > 
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3 p-2">
                    <div class="middle px-2 text-white">
                        <ul class="lh-lg">
                            <li class="">
                                <a href="index.html">Accueil</a>
                            </li>
                            <li class="">
                                <a href="produits.html">Produits</a>
                            </li>
                            <li class="">
                                <a href="marche.html">Marche</a>
                            </li>
                            <li class="">
                                <a href="galerie.html">Galerie</a>
                            </li>
                            <li class="">
                                <a href="inscription.html">Inscription</a>
                            </li>
                            <li class="">
                                <a href="contact.html">Contact</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3 p-2">
                    <div class="right px-2">
                        <form action="">
                            <div class="d-flex flex-column justify-content-center align-item-center gap-3">
                                <label for="newletter" class="form-label">S'inscrire a notre Newletter</label>
                                <input type="text" name="newletter" id="newletter" class="form-control">
                                <button type="submit">S'inscrire</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row mt-5 text-center">
                <div class="col-md-12">
                    Copyright 2024 by@SenAgroLink le marché agricole au bout des doigts 
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Gestion des formulaires d'inscription
            const farmerForm = document.getElementById('farmerForm');
            const buyerForm = document.getElementById('buyerForm');
            const loginForm = document.getElementById('loginForm');
            const successMsg = document.getElementById('successMsg');
            const errorMsg = document.getElementById('errorMsg');
            const receptionMsg = document.getElementById('receptionMsg');
            
            // Stocker les utilisateurs dans localStorage
            if (!localStorage.getItem('users')) {
                localStorage.setItem('users', JSON.stringify([]));
            }
            
            // Inscription Agriculteur
            farmerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const users = JSON.parse(localStorage.getItem('users'));
                const email = document.getElementById('farmerEmail').value;
                
                // Vérifier si l'email existe déjà
                if (users.some(user => user.email === email)) {
                    errorMsg.textContent = "Cet email est déjà utilisé!";
                    errorMsg.classList.remove('d-none');
                    setTimeout(() => errorMsg.classList.add('d-none'), 3000);
                    return;
                }
                
                // Créer nouvel utilisateur agriculteur
                const newFarmer = {
                    type: 'farmer',
                    name: document.getElementById('farmerName').value,
                    email: email,
                    phone: document.getElementById('farmerPhone').value,
                    password: document.getElementById('farmerPassword').value,
                    location: document.getElementById('farmerLocation').value,
                    product: document.getElementById('farmerProduct').value,
                    registrationDate: new Date().toLocaleDateString()
                };
                
                users.push(newFarmer);
                localStorage.setItem('users', JSON.stringify(users));
                localStorage.setItem('currentUser', JSON.stringify(newFarmer));
                
                // Afficher message de succès
                successMsg.textContent = "Inscription réussie en tant qu'agriculteur!";
                successMsg.classList.remove('d-none');
                receptionMsg.classList.remove('d-none');
                
                // Redirection après 3 secondes
                setTimeout(() => {
                    window.location.href = 'agriculteur.html';
                }, 3000);
            });
            
            // Inscription Acheteur
            buyerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const users = JSON.parse(localStorage.getItem('users'));
                const email = document.getElementById('buyerEmail').value;
                
                // Vérifier si l'email existe déjà
                if (users.some(user => user.email === email)) {
                    errorMsg.textContent = "Cet email est déjà utilisé!";
                    errorMsg.classList.remove('d-none');
                    setTimeout(() => errorMsg.classList.add('d-none'), 3000);
                    return;
                }
                
                // Créer nouvel utilisateur acheteur
                const newBuyer = {
                    type: 'buyer',
                    name: document.getElementById('buyerName').value,
                    email: email,
                    phone: document.getElementById('buyerPhone').value,
                    password: document.getElementById('buyerPassword').value,
                    location: document.getElementById('buyerLocation').value,
                    buyerType: document.getElementById('buyerType').value,
                    registrationDate: new Date().toLocaleDateString()
                };
                
                users.push(newBuyer);
                localStorage.setItem('users', JSON.stringify(users));
                localStorage.setItem('currentUser', JSON.stringify(newBuyer));
                
                // Afficher message de succès
                successMsg.textContent = "Inscription réussie en tant qu'acheteur!";
                successMsg.classList.remove('d-none');
                receptionMsg.classList.remove('d-none');
                
                // Redirection après 3 secondes
                setTimeout(() => {
                    window.location.href = 'acheteur.html';
                }, 3000);
            });
            
            // Connexion
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const users = JSON.parse(localStorage.getItem('users'));
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                // Trouver l'utilisateur
                const user = users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    // Connexion réussie
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    successMsg.textContent = "Connexion réussie!";
                    successMsg.classList.remove('d-none');
                    
                    // Redirection selon le type d'utilisateur
                    setTimeout(() => {
                        window.location.href = user.type === 'farmer' ? 'agriculteur.html' : 'acheteur.html';
                    }, 1500);
                } else {
                    // Échec de connexion
                    errorMsg.textContent = "Email ou mot de passe incorrect!";
                    errorMsg.classList.remove('d-none');
                    setTimeout(() => errorMsg.classList.add('d-none'), 3000);
                }
            });
            
            // Mot de passe oublié
            document.getElementById('forgotPassword').addEventListener('click', function(e) {
                e.preventDefault();
                alert("Une demande de réinitialisation de mot de passe a été envoyée à l'administrateur.");
            });
        });
    </script>
</body>
</html>